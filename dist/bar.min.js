function BarChart(t,a,e,i){var r=this;r.configurationChart(t,a,e,i),r.performaceOperations(),r.drawChart()}function getRandomInt(t,a){return t=Math.ceil(t),a=Math.floor(a),Math.floor(Math.random()*(a-t))+t}BarChart.prototype.configurationChart=function(t,a,e,i){this.setCanvasParameters(t,a,e,i),this.setChartParameters()},BarChart.prototype.setCanvasParameters=function(t,a,e,i){var r=this;r.id=t,r.width=a,r.height=e,r.data=i},BarChart.prototype.setChartParameters=function(){var t=this;t.axisRadio=10,t.verticalMargin=t.height*t.axisRadio/100,t.horizontalMargin=t.width*t.axisRadio/100,t.axisColor="#b1b1b1",t.axisWidth=.75,t.fontRadio=3,t.fontFamily="times",t.fontStyle="normal",t.fontWeight="300",t.fontColor="#666",t.verticalFontSize=t.height*t.fontRadio/100,t.horizontalFontSize=t.width*t.fontRadio/100,t.guidelineColor="#e5e5e5",t.guidelineWidth=.5},BarChart.prototype.performaceOperations=function(){var t=this;t.createCanvas(),t.handleData(),t.prepareData()},BarChart.prototype.createCanvas=function(){var t=this,a=document.createElement("canvas");a.id=t.id+"-"+Math.random(),a.width=t.width,a.height=t.height,document.getElementById(t.id).innerHTML="",document.getElementById(t.id).appendChild(a),t.canvas=a,t.context=a.getContext("2d")},BarChart.prototype.handleData=function(){var a=this;a.labels=[],a.values=[],a.data.forEach(function(t){a.labels.push(t.label),a.values.push(t.value)})},BarChart.prototype.prepareData=function(){var t=this;t.itemsNum=t.data.length,t.maxValue=Math.max.apply(null,t.values),t.minValue=Math.min.apply(null,t.values),t.verticalAxisWidth=t.height-2*t.verticalMargin,t.horizonatlAxisWidth=t.width-2*t.horizontalMargin,t.verticalUpperBound=Math.ceil(t.maxValue/10),t.verticalLabelFreq=t.verticalUpperBound/t.itemsNum,t.horizonatlLabelFreq=t.horizonatlAxisWidth/t.itemsNum},BarChart.prototype.drawChart=function(){var t=this;t.drawVerticalAxis(),t.drawVerticalLabel(),t.drawHorizontalAxis(),t.drawHorizontalLabel(),t.drawHorizontalGuidelines(),t.drawVerticalGuidelines(),t.drawBars()},BarChart.prototype.drawVerticalAxis=function(){var t=this;t.context.beginPath(),t.context.strokeStyke=t.axisColor,t.context.lineWidth=t.axisWidth,t.context.moveTo(t.horizontalMargin,t.verticalMargin),t.context.lineTo(t.horizontalMargin,t.height-t.verticalMargin),t.context.stroke()},BarChart.prototype.drawHorizontalAxis=function(){var t=this;t.context.beginPath(),t.context.strokeStyke=t.axisColor,t.context.lineWidth=t.axisWidth,t.context.moveTo(t.horizontalMargin,t.height-t.verticalMargin),t.context.lineTo(t.width-t.horizontalMargin,t.height-t.verticalMargin),t.context.stroke()},BarChart.prototype.drawVerticalLabel=function(){var t=this,a=t.fontStyle+" "+t.fontWeight+" "+t.verticalFontSize+"px "+t.fontFamily;t.context.font=a,t.context.textAlign="right",t.context.fillStyle=t.fontColor;for(var e=t.verticalAxisWidth/t.verticalUpperBound*t.verticalLabelFreq,i=0;i<=t.itemsNum;i++){var r=t.verticalUpperBound-i*t.verticalLabelFreq,o=t.horizontalMargin-t.horizontalMargin/t.axisRadio,n=t.verticalMargin+i*e;t.context.fillText(r,o,n)}},BarChart.prototype.drawHorizontalLabel=function(){var t=this,a=t.fontStyle+" "+t.fontWeight+" "+t.verticalFontSize+"px "+t.fontFamily;t.context.font=a,t.context.textAlign="center",t.context.textBaseline="top",t.context.fillStyle=t.fontColor;for(var e=0;e<t.itemsNum;e++){var i=t.horizontalMargin+e*t.horizonatlLabelFreq+t.horizonatlLabelFreq/2,r=t.height-t.verticalMargin+t.verticalMargin/t.axisRadio;t.context.fillText(t.labels[e],i,r)}},BarChart.prototype.drawHorizontalGuidelines=function(){var t=this;t.context.fillStyle=t.guidelineColor,t.context.lineWidth=t.guidelineWidth;for(var a=t.verticalAxisWidth/t.verticalUpperBound*t.verticalLabelFreq,e=0;e<t.itemsNum;e++){var i=t.horizontalMargin,r=t.verticalMargin+e*a,o=t.horizontalMargin+t.horizonatlAxisWidth,n=t.verticalMargin+e*a;t.context.beginPath(),t.context.moveTo(i,r),t.context.lineTo(o,n),t.context.stroke()}},BarChart.prototype.drawVerticalGuidelines=function(){var t=this;t.context.strokeStyke=t.guidelineColor,t.context.lineWidth=t.guidelineWidth;for(var a=0;a<=t.itemsNum;a++){var e=t.horizontalMargin+a*t.horizonatlLabelFreq,i=t.height-t.verticalMargin,r=t.horizontalMargin+a*t.horizonatlLabelFreq,o=t.verticalMargin;t.context.beginPath(),t.context.moveTo(e,i),t.context.lineTo(r,o),t.context.stroke()}},BarChart.prototype.drawBars=function(){for(var t=this,a=0;a<t.itemsNum;a++){var e=t.createRandomRGBColor(),i="rgba("+e.r+","+e.g+","+e.b+",0.3)",r="rgba("+e.r+","+e.g+","+e.b+")";t.context.beginPath(),t.context.fillStyle=i,t.context.strokeStyke=r;var o=t.horizontalMargin+a*t.horizonatlLabelFreq+t.horizonatlLabelFreq/t.axisRadio,n=t.height-t.verticalMargin,l=t.horizonatlLabelFreq-2*t.horizonatlLabelFreq/t.axisRadio,h=-1*t.verticalAxisWidth*t.values[a]/t.maxValue;t.context.rect(o,n,l,h),t.context.stroke(),t.context.fill()}},BarChart.prototype.createRandomRGBColor=function(){return{r:getRandomInt(0,257),g:getRandomInt(0,257),b:getRandomInt(0,257)}};